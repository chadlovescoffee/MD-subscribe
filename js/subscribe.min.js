subscribe={app:function(){function e(){$(t+" .email_input").hasClass("valid")&&$(t+" .check_terms").hasClass("checked")?($(t+" .first.subscribe_button").removeClass("disabled"),$(t+" .first.subscribe_container  ").css("pointer-events","auto")):($(t+" .first.subscribe_button").addClass("disabled"),$(t+" .first.subscribe_container").css("pointer-events","none"))}function a(){$(t+" #name").val().length>0||$(t+" #postal").val().length>0||$(t+" .datepicker").val().length>0||$(t+" .check_warner").hasClass("checked")?($(t+" .last.subscribe_button").removeClass("disabled"),$(t+" .last.subscribe_container").css("pointer-events","auto")):($(t+" .last.subscribe_button").addClass("disabled"),$(t+" .last.subscribe_container").css("pointer-events","none"))}var s="/js/materialize.min.js";!$('head script[src="'+s+'"]').length>0&&$("head").append('<script type="text/javascript" src="'+s+'"></script>');var i=["http://fonts.googleapis.com/icon?family=Material+Icons","/css/materialize.min.css","/css/subscribe.min.css"],c=0,l="";$(i).each(function(){!$('head link[href="'+i[c]+'"]').length>0&&(l+='<link href="'+i[c]+'" rel="stylesheet">'),++c}),$("head").append(l);var t=subscribe_setup.destination,r='<div class="initial_form_container"> <div class="row">   <div class="col s12 m9">    <div class="email_container input-field">      <input id="email" type="email" class="validate email_input">      <label class="email_label" for="email">Email</label>    </div>    <p>      <input type="checkbox" id="check_terms" />      <label for="check_terms" class="check_terms">I agree with the <a class="modal-trigger link terms" href="#terms_modal">Terms of Use</a> and <a class="modal-trigger link privacy" href="#privacy_modal">Privacy Policy</a>.</label>    </p>   </div>   <div class="first subscribe_container col s12 m3 blocked">    <button class="first subscribe_button btn waves-effect waves-light disabled browser-default" type="submit" name="action">       Subscribe     </button>   </div> </div></div>',n='<div class="secondary_form_container"><div class="row">    <div class="input-field col s12">      <input id="name" type="text">      <label for="name" class="name_label">First Name</label>    </div></div><div class="row">    <div class="input-field col s6">      <input id="postal" type="text">      <label for="postal">Postal Code</label>    </div>   <div class="input-field col s6">     <input type="date" class="datepicker">     <label class="date_label" for="date">Birth Date</label>   </div></div><div class="row">  <div class="col s12 check_warner">    <p>      <input type="checkbox" id="check_warner" />      <label for="check_warner">Subscribe to Warner Music Canada for updates, contests, and music.</label>    </p>  </div></div> <div class="row">   <div class="last subscribe_container col s12 m3 blocked">    <button class="last subscribe_button btn waves-effect waves-light disabled browser-default modal-action modal-close" type="submit" name="action">       Finish     </button>   </div> </div></div>',o='<div id="terms_modal" class="modal modal-fixed-footer">  <div class="modal-content">     <div class="valign-wrapper">      <div class="preloader-wrapper small active">      <div class="spinner-layer spinner-green-only">        <div class="circle-clipper left">          <div class="circle"></div>        </div><div class="gap-patch">          <div class="circle"></div>        </div><div class="circle-clipper right">          <div class="circle"></div>        </div>      </div>      </div>     </div>  </div>  <div class="modal-footer">    <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Close</a>  </div></div>',d='<div id="privacy_modal" class="modal modal-fixed-footer">  <div class="modal-content">     <div class="valign-wrapper">      <div class="preloader-wrapper small active">      <div class="spinner-layer spinner-green-only">        <div class="circle-clipper left">          <div class="circle"></div>        </div><div class="gap-patch">          <div class="circle"></div>        </div><div class="circle-clipper right">          <div class="circle"></div>        </div>      </div>      </div>     </div>   </div>  <div class="modal-footer">    <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Close</a>  </div></div>';$(document).ready(function(){$(t).html('<div class="subscribe_pkg" style="display: none;">'+r+n+o+d+"</div>")}),$(t+" .email_input").focusout(function(){setTimeout(function(){e()},400)}),$(document).on("click",t+" #check_terms",function(){$(t+" .check_terms").toggleClass("checked"),e()}),$(document).on("click",t+" .terms.link",function(){$(t+" #terms_modal .modal-content").load("terms.html"),$(t+" #terms_modal").openModal()}),$(document).on("click",t+" .privacy.link",function(){$(t+" #privacy_modal .modal-content").load("privacy.html"),$(t+" #privacy_modal").openModal()}),$(document).on("click",t+" .first.subscribe_button",function(){var e={cdc_id:subscribe_setup.cdc_id,datasource:subscribe_setup.datasource,email:$(t+" #email").val()};$.getJSON("http://www.warnermusic.ca/feeds/cdc_subscribe.php?callback=?",e,function(e){$(t+" .initial_form_container").css("display","none"),$(t+" .secondary_form_container").slideToggle(800)})}),$(t+" .datepicker").pickadate({onOpen:function(){$(t+" .date_label").addClass("active")},onClose:function(){a(),0==$(t+" .datepicker").val().length&&$(t+" .date_label").removeClass("active")},format:"yyyy-mm-dd",selectMonths:!0,selectYears:100,max:!0});var v="";$(document).on("click",t+" #check_warner",function(){$(t+" .check_warner").toggleClass("checked"),v=$(t+" .check_warner").hasClass("checked")?1:0,a()}),$(t+" .secondary_form_container input").focusout(function(){a()}),$(document).on("click",t+" .last.subscribe_button",function(){var a={cdc_id:subscribe_setup.cdc_id,datasource:subscribe_setup.datasource,email:$(t+" #email").val(),name:$(t+" #name").val(),postal:$(t+" #postal").val(),birth_date:$.trim($(t+" .datepicker").val()),warner_subscribe:v};$.getJSON("http://www.warnermusic.ca/feeds/cdc_subscribe.php?callback=?",a,function(a){Materialize.toast("Thanks for subscribing!",4e3),$(t+" .initial_form_container").fadeIn(),$(t+" .initial_form_container #email").val("").removeClass("valid"),$(t+" .initial_form_container .email_label").removeClass("active"),$(t+" .initial_form_container .check_terms").removeClass("checked"),$(t+" .initial_form_container #check_terms").attr("checked",!1),e(),$(t+" .secondary_form_container").slideToggle(500),$(t+" .secondary_form_container #name").val(""),$(t+" .secondary_form_container #postal").val(""),$(t+" .secondary_form_container .datepicker").val(""),$(t+" .secondary_form_container .check_warner").removeClass("checked"),$(t+" .secondary_form_container #check_warner").attr("checked",!1),$(t+" .secondary_form_container .last.subscribe_button").addClass("disabled"),$(t+" .secondary_form_container .last.subscribe_container").css("pointer-events","none"),$(t+" .secondary_form_container label").removeClass("active")})})}};